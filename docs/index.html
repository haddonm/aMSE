<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Framework for Abalone Management Strategy Evaluation • aMSE</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="A Framework for Abalone Management Strategy Evaluation">
<meta property="og:description" content="aMSE provides a formal framework for conducting management strategy 
    evaluation for abalone stocks (although, in principle, such analyses for any 
    sedentary organisms could be conducted). There are functions designed
    to facilitate the generation of input data file templates, model
    initiation and conditioning, and a standard template for the generation
    of new harvest control rules. The vignette Use_aMSE provides details
    of its operation. Rcpp is included in readiness of speeding various
    vital dynamics but currently no functions are implemented in Rcpp.
    The package has now been checked to operate using R4.0.0.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">aMSE</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Comparing_Scenarios.html">Comparison of MSE Scenarios</a>
    </li>
    <li>
      <a href="articles/model_documentation.html">Abalone MSE Model Documentation</a>
    </li>
    <li>
      <a href="articles/the_data_files.html">Abalone MSE Data files</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/haddonm/aMSE/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="amse">aMSE<a class="anchor" aria-label="anchor" href="#amse"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>This packages up a new Abalone Management Strategy Evaluation framework. It has a novel structure that is based around the spatial ideas of populations within spatial management units (SAUs), within a zone:</p>
<ul>
<li><p>zone - highest geographical level. Is simply the totality of the spatial management units.</p></li>
<li><p>SAU - spatial assessment units. In Tasmania these would currently be the classical statistical blocks.</p></li>
<li><p>population - literally a population. These are the active components within the simulation framework. The dynamics of the simulation are based around the populations, although, with positive larval dispersal (the default) there is some dependency of neighbouring populations on each other.</p></li>
</ul>
<p>This conceptual structure has implications for how the simulations are conditioned during the management strategy testing. While it is still the case that the general properties of each SAU are used to set the scene for each SAU’s component populations, the advent of sufficient GPS logger data now allows a more formal definition of the productivity of each population. Currently, the modelling assumes that each population is linearly arranged around the coastline, and this will allow, where available, specific catch/yield data to be used to define the bounds of each population within an SAU.</p>
<p>An important change from previous designs is that larval dispersal is implemented explicitly rather than implicitly being held constant. This alters the dynamics so that analytical equilibrium methods no longer work and we need to resort to iterative approaches to equilibrium if the larval dispersal rate is &gt; 0.0.</p>
<p>Of course, adding such a component increases the number of options that may need to be explored, but currently we envisage including a very low, a middle range, and a relatively high level of larval dispersal, to examine its implications.</p>
</div>
<div class="section level1">
<h1 id="latest-updates">LATEST UPDATES<a class="anchor" aria-label="anchor" href="#latest-updates"></a>
</h1>
<ul>
<li><p>2023-06-11 aMSE 0.1.5 Modified the condition plot and fixed up a few places where numbers were hard wired into the software. Introduced a new option to save output following projections (just in case of experiments with subsequent analyses crash - I’m looking at you SA). Now one can set interimout =c(outdir,postfixdir) and that should save a tempout into your outdir directory. See the help for do_MSE.</p></li>
<li><p>2023-06-04 aMSE 0.1.4 Small modifications to generalize across jurisdictions and allow for the consthcr constant catch harvest strategy; also removed irrelavent messages when plotting the phase plot</p></li>
<li><p>2023-06-03 aMSE 0.1.3 Modified to allow the mcdahcr and constrefhcr HCR to run successfully with the conditioned SA setup.</p></li>
<li><p>2023-04-17 aMSE 0.1.2 Amended save_hsargs so it can handle data.frame within hsargs.</p></li>
<li><p>2023-04-12 aMSE 0.1.1 Started generalizing the outputs from aMSE by beginning to separate functions that relate to specific jurisdiction outputs into a separate R package (in Tasmania it is currently called aMSEExtra).</p></li>
<li><p>2023-04-04 aMSE 0.1.0 Added curryear to hcrfun so all HS functions should now include curryear inthier arguments. Within doprojecitons() it is set to year inside the loop. This was needed to allow the SA HS to use its fleet dynamics model and is not needed in Tasmania, but is required in the argument list.</p></li>
<li><p>2023-03-31 aMSE 0.0.25 Modified calcpopC througout to allow for SA’s harvest strategy and fleet dynamics.</p></li>
<li><p>2022-12-14 aMSE 0.0.24 Lots of minor edits and modifications aimed at improving the comparison of scenarios.</p></li>
<li><p>2022-11-11 aMSE 0.0.23 Added a new tab = recruits, containing plots of the stock recruitment relationships at an sau and at a population within sau level. Added a table to the Tables tab.</p></li>
<li><p>2022-11-10 aMSE 0.0.22 now have the capacity to introduce productivity events in specific projection years. This can now be done at sau specific levels. One defines the survivorship of recruits in each selected year and also the survivorship of all post-settlement animals. No changes are needed to one’s control file if this option is not being used.</p></li>
<li><p>2022-11-02 aMSE 0.0.21 added changes to how do_MSE responds to hsargs.</p></li>
<li><p>2022-10-31 aMSE 0.0.20 added do_comp_outputs, scenebyvar, scenebyzone, projectiononly, and sauquantbyscene to assist with comparing scenarios.</p></li>
</ul>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Once the MSE framework is made public you can install the development version from <a href="https://github.com/haddonm/aMSE" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span><span class="op">}</span> </span>
<span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"https://github.com/haddonm/aMSE"</span>,build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, while the development version remains private, you can generate a branch that you can work on by cloning the repository, which, again, can be done very simply within RStudio. Open the New Project option in the project dialog at the top right of the RStudio screen and selection Version Control, then use ‘<a href="https://github.com/haddonm/aMSE" class="external-link uri">https://github.com/haddonm/aMSE</a>’ in the top box, identify where you want the new directory put, and press return. ALternatively, you could download the zip file from inside the ‘code’ button and establish an R project from that.</p>
<p>It would be a good idea to read Hadley Wickham’s draft chapter on Git and GitHub at <a href="https://r-pkgs.org/index.html" class="external-link uri">https://r-pkgs.org/index.html</a>.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is an example which illustrates the generation of an initial equilibrium, which then goes on to apply an early version of the Tasmania MCDA using only 50 replicates (that bit takes about 15 seconds on my computer, hence 2.5 minutes for 1000). It uses built in data-sets but usually you would read in a control file, which would contain the name of the biological datafile describing each population.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># a constant TAC example</span></span>
<span><span class="va">starttime</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="st">"show.signif.stars"</span><span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>        <span class="st">"stringsAsFactors"</span><span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>        <span class="st">"max.print"</span><span class="op">=</span><span class="fl">50000</span>,</span>
<span>        <span class="st">"width"</span><span class="op">=</span><span class="fl">240</span><span class="op">)</span></span>
<span><span class="co"># declare libraries ------------------------------------------------------------</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/haddonm/aMSE" class="external-link">aMSE</a></span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">TasHS</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hughparsonage/hutils" class="external-link">hutils</a></span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://haddonm.github.io/hplot/" class="external-link">hplot</a></span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">makehtml</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/" class="external-link">knitr</a></span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="va">dbdir</span> <span class="op">&lt;-</span> <span class="fu">getDBdir</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># Obviously you should modify the rundir and datadir to suit your own setup</span></span>
<span><span class="va">prefixdir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">dbdir</span>,<span class="st">"A_CodeUse/aMSEUse/scenarios/"</span><span class="op">)</span></span>
<span><span class="va">postfixdir</span> <span class="op">&lt;-</span> <span class="st">"M15h75"</span></span>
<span><span class="va">rundir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">prefixdir</span>,<span class="va">postfixdir</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/confirmdir.html">confirmdir</a></span><span class="op">(</span><span class="va">rundir</span><span class="op">)</span></span>
<span><span class="va">controlfile</span> <span class="op">&lt;-</span> <span class="st">"controlM15h75.csv"</span></span>
<span><span class="co"># equilibrium zone -------------------------------------------------------------</span></span>
<span><span class="co"># You now need to ensure that there is, at least, a control.csv, and a </span></span>
<span><span class="co"># constantsdata.csv file in the data directory plus some other data .csv files</span></span>
<span><span class="co"># depending on how conditioned you want the model to be. Templates for the</span></span>
<span><span class="co"># correct format can be produced using ctrlfiletemplate(), datafiletemplate().</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># Of course, usually one would use data files, control.csv and a saudata.csv, which</span></span>
<span><span class="co"># is listed as the datafile within the control.csv. These must be stored in </span></span>
<span><span class="co"># rundir. There are example files in the DropBox folder:</span></span>
<span><span class="co"># .\..\Dropbox\National abalone MSE\aMSE_files\scenarios\examplerun. Read the </span></span>
<span><span class="co"># 'Using_aMSE' section in the Documentation .docx file in the documentation </span></span>
<span><span class="co"># directry  Then, assuming you have the very latest version of aMSE = 500, </span></span>
<span><span class="co"># the code in the documentation file (or in the 'run_aMSE.R' file within the</span></span>
<span><span class="co"># examplerun subdirectory should work. </span></span>
<span></span>
<span><span class="co"># HarvestStrategy.R should also be in rundir</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">rundir</span>,<span class="st">"/TasHS1_Tas.R"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># run the scenario --------------------- Obviously unhash this to make it work</span></span>
<span><span class="co">#</span></span>
<span><span class="co"># out &lt;- do_MSE(rundir,controlfile,datadir,hsargs=hsargs,hcrfun=mcdahcr,</span></span>
<span><span class="co">#               sampleCE=tasCPUE,sampleFIS=tasFIS,sampleNaS=tasNaS,</span></span>
<span><span class="co">#               getdata=tasdata,calcpopC=calcexpectpopC,makeouthcr=makeouthcr,</span></span>
<span><span class="co">#               varyrs=7,startyr=48,verbose=TRUE,</span></span>
<span><span class="co">#               ndiagprojs=4,savesauout=TRUE)</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># makeoutput(out,rundir,datadir,postfixdir,controlfile,openfile=TRUE,verbose=FALSE)</span></span></code></pre></div>
<p>After running the whole, even if you do not generate the results webpage, you could also try:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#str(out$zoneDP,max.level=1)</span></span>
<span><span class="co">#str1(out$hcrout)</span></span></code></pre></div>
<p>To see the structure of the dynamic object generated by the projections.</p>
<p>See the vignette Running_aMSE.Rmd for a more detailed example.</p>
<p>See the New.Rd for recent developments</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/haddonm/aMSE/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/haddonm/aMSE/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing aMSE</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Malcolm Haddon <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-6971-7585" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Malcolm Haddon.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
