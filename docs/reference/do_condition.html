<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>do_condition is a function to assist with conditioning the model — do_condition • aMSE</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="do_condition is a function to assist with conditioning the model — do_condition"><meta property="og:description" content="do_condition is a utility function that can be used to speed the
    conditioning of the operating model on available fishery data. During the
    generation of the simulated zone the operation that takes the longest is
    the estimation of the productivity of each population. The productivity
    is estimated at equilibrium and getting there is what takes the time.
    When conditioning the model the objective is to match the predicted
    fishery response to the historical catches to the observed responses.
    'do_condition' generates the simulated zone without running the
    projections, which simplifies any searches for optimal values of AvRec
    (average unfished recruitment), and especially for suitable values of
    recruitment deviates. If any of the initdepl (initial depletion) values,
    as listed in the control file are less than 1.0 then before applying
    the historical catches it first depletes each population within each
    SAU to the initdepl value for each SAU. For this to work doproduct
    must be TRUE. This will slow down any searches for an optimum set of
    AvRec and recdevs, so a different strategy for doing that will be
    needed."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">aMSE</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Comparing_Scenarios.html">Comparison of MSE Scenarios</a>
    </li>
    <li>
      <a href="../articles/model_documentation.html">Abalone MSE Model Documentation</a>
    </li>
    <li>
      <a href="../articles/the_data_files.html">Abalone MSE Data files</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/haddonm/aMSE/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>do_condition is a function to assist with conditioning the model</h1>
    <small class="dont-index">Source: <a href="https://github.com/haddonm/aMSE/blob/HEAD/R/docondition.R" class="external-link"><code>R/docondition.R</code></a></small>
    <div class="hidden name"><code>do_condition.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>do_condition is a utility function that can be used to speed the
    conditioning of the operating model on available fishery data. During the
    generation of the simulated zone the operation that takes the longest is
    the estimation of the productivity of each population. The productivity
    is estimated at equilibrium and getting there is what takes the time.
    When conditioning the model the objective is to match the predicted
    fishery response to the historical catches to the observed responses.
    'do_condition' generates the simulated zone without running the
    projections, which simplifies any searches for optimal values of AvRec
    (average unfished recruitment), and especially for suitable values of
    recruitment deviates. If any of the initdepl (initial depletion) values,
    as listed in the control file are less than 1.0 then before applying
    the historical catches it first depletes each population within each
    SAU to the initdepl value for each SAU. For this to work doproduct
    must be TRUE. This will slow down any searches for an optimum set of
    AvRec and recdevs, so a different strategy for doing that will be
    needed.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">do_condition</span><span class="op">(</span></span>
<span>  <span class="va">rundir</span>,</span>
<span>  <span class="va">controlfile</span>,</span>
<span>  <span class="va">calcpopC</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  doproduct <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dohistoric <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  matureL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">70</span>, <span class="fl">200</span><span class="op">)</span>,</span>
<span>  wtatL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">80</span>, <span class="fl">200</span><span class="op">)</span>,</span>
<span>  mincount <span class="op">=</span> <span class="fl">100</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>rundir</dt>
<dd><p>the full path to the directory in which all files relating to a
particular run are to be held.</p></dd>


<dt>controlfile</dt>
<dd><p>the filename of the control file present in rundir
containing information regarding the particular run.</p></dd>


<dt>calcpopC</dt>
<dd><p>a function that takes the output from hcrfun (either the
aspirational catch x SAU or TAC x zone) and generates the actual catch
per population in each SAU expected in the current year.</p></dd>


<dt>verbose</dt>
<dd><p>Should progress comments be printed to console, default=FALSE</p></dd>


<dt>doproduct</dt>
<dd><p>should production estimates be made. default=FALSE</p></dd>


<dt>dohistoric</dt>
<dd><p>should the historical catches be applied. Default=TRUE</p></dd>


<dt>matureL</dt>
<dd><p>is a vector of 2, default = c(70,200), that define the x-axis
bounds on the biology maturity-at-Length plots</p></dd>


<dt>wtatL</dt>
<dd><p>is a vector of 2, default = c(80,200), that define the x-axis
bounds on the biology weight-at-Length plots</p></dd>


<dt>mincount</dt>
<dd><p>determines the minimum sample size for a size-composition
sample to be included in plots and analyses. Default = 100</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>a large list containing tottime, projtime, starttime, glb, ctrl,
    zoneDD, zoneDP, projC, condC, sauout, and outzone</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="makeequilzone.html">makeequilzone</a>, <a href="dohistoricC.html">dohistoricC</a>, <a href="prepareprojection.html">prepareprojection</a>,
 <a href="doprojections.html">doprojections</a></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"wait on suitable data sets in data"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "wait on suitable data sets in data"</span>
<span class="r-in"><span><span class="co"># rundir=rundir; controlfile=controlfile;calcpopC=calcexpectpopC</span></span></span>
<span class="r-in"><span><span class="co"># verbose=TRUE; doproduct=TRUE; dohistoric=TRUE; mincount=120</span></span></span>
<span class="r-in"><span><span class="co"># matureL=c(70,200);wtatL=c(80,200);mincount=120</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Malcolm Haddon.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

